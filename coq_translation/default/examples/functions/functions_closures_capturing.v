(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

(* #[allow(dead_code)] - function was ignored by the compiler *)
Definition main `{State.Trait} : M unit :=
  let* color := core.convert.From.from (mk_str "green") in
  let print := "Closure" in
  let* _ :=
    let* α0 := borrow print type not implemented in
    core.ops.function.Fn.call α0 tt in
  let* _reborrow := borrow color alloc.string.String in
  let* _ :=
    let* α0 := borrow print type not implemented in
    core.ops.function.Fn.call α0 tt in
  let _color_moved := color in
  let* count := M.alloc 0 in
  let inc := "Closure" in
  let* _ :=
    let* α0 := borrow_mut inc type not implemented in
    core.ops.function.FnMut.call_mut α0 tt in
  let* _ :=
    let* α0 := borrow_mut inc type not implemented in
    core.ops.function.FnMut.call_mut α0 tt in
  let* _count_reborrowed := borrow_mut count i32 in
  let* movable :=
    let* α0 := M.alloc 3 in
    (alloc.boxed.Box _ alloc.alloc.Global)::["new"] α0 in
  let consume := "Closure" in
  let* _ := core.ops.function.FnOnce.call_once consume tt in
  Pure tt.
